# Main domain (required)
{$CADDY_DOMAIN:localhost} {
	# Automatic HTTPS when EMAIL is set
	{$CADDY_EMAIL:}

	# Security headers (enabled by default)
	header {
		X-Content-Type-Options "nosniff"
		X-Frame-Options "DENY"
		Referrer-Policy "strict-origin-when-cross-origin"
		{$CADDY_SECURITY_HEADERS:}
	}

	# Additional headers
	{$CADDY_HEADERS:}

	# Rate limiting
	{$CADDY_RATE_LIMIT:}

	# Basic auth
	{$CADDY_BASIC_AUTH:}

	# Redirects
	{$CADDY_REDIRECTS:}

	# Reverse proxy settings
	reverse_proxy {$CADDY_UPSTREAM:http://localhost:8080} {
		{$CADDY_PROXY_HEADERS:}
	}
}

# Additional domains (optional, comma separated)
{$CADDY_ADDITIONAL_DOMAINS:}
